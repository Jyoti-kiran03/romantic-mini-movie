document.addEventListener("DOMContentLoaded", () => {

  const startBtn = document.getElementById("startBtn");
  const main = document.getElementById("main");
  const intro = document.getElementById("intro");
  const bgm = document.getElementById("bgm");
  const heartMusic = document.getElementById("heartMusic");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const surprise = document.getElementById("surprise");

  // START BUTTON
  startBtn.addEventListener("click", () => {
    intro.style.display = "none";
    main.classList.remove("hidden");
    bgm.play();
    typeWriter();
    showSlides();
  });

  // TYPEWRITER
  const text = "Mummy & Papa, your love is the reason I believe in forever ‚ù§Ô∏è";
  let i = 0;
  function typeWriter() {
    if (i < text.length) {
      document.getElementById("typewriter").innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, 70);
    }
  }

  // SLIDESHOW
  let slideIndex = 0;
  function showSlides() {
    const slides = document.getElementsByClassName("slides");
    for (let s of slides) s.style.display = "none";
    slideIndex++;
    if (slideIndex > slides.length) slideIndex = 1;
    slides[slideIndex - 1].style.display = "block";
    setTimeout(showSlides, 2500);
  }

  // SHOW SURPRISE (YES / NO buttons)
  window.showSurprise = function() {
    surprise.classList.remove("hidden");
  }

  // NO button floating
  noBtn.addEventListener("mouseenter", () => {
    noBtn.style.position = "absolute";
    noBtn.style.left = Math.random() * (window.innerWidth - 120) + "px";
    noBtn.style.top = Math.random() * (window.innerHeight - 120) + "px";
  });
  setTimeout(() => { noBtn.style.display = "none"; }, 4000);

  // YES button click
  yesBtn.addEventListener("click", () => {
    bgm.pause();
    heartMusic.currentTime = 0;
    heartMusic.volume = 0.7;
    heartMusic.play();

    surprise.innerHTML = `
      <h1>My Heart Is Open For You üíê</h1>
      <div class="flower"></div>
      <div class="petals"></div>
    `;

    createFallingHeart();

    setTimeout(() => {
      window.location.href = "message.html";
    }, 6000);
  });

  // FALLING HEART
  function createFallingHeart() {
    const box = document.querySelector(".petals");
    if (!box) return;

    const heart = document.createElement("span");
    heart.innerHTML = "üíñ";
    box.appendChild(heart);
  }

});
    /* FALLING CINEMATIC HEART */
.petals span {
  pointer-events: none;
}

@keyframes cinematicFall {
  from {
    transform: translateY(-60px) scale(0.8);
    opacity: 0;
  }
  to {
    transform: translateY(110vh) scale(1.05);
    opacity: 1;
  }
}

@keyframes glow {
  from { filter: drop-shadow(0 0 8px hotpink); }
  to   { filter: drop-shadow(0 0 20px deeppink); }
}
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:'Poppins',sans-serif;
}

body{
background:radial-gradient(circle,#ffdee9,#b5fffc);
overflow:hidden;
height:100vh;
}

/* Cinematic Intro */
.cinematic-intro{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
color:white;
z-index:9999;
animation:fadeIn 2s ease;
}

.cinema-title{
font-family:'Great Vibes',cursive;
font-size:60px;
margin-bottom:15px;
animation:glow 2s infinite alternate;
}

.cinematic-intro p{
font-size:18px;
opacity:.8;
margin-bottom:30px;
}

#startBtn{
padding:15px 45px;
font-size:20px;
border:none;
border-radius:40px;
background:linear-gradient(45deg,#ff416c,#ff4b2b);
color:white;
cursor:pointer;
box-shadow:0 0 20px rgba(255,75,75,.8);
transition:.3s;
}

#startBtn:hover{
transform:scale(1.1);
}

/* Main Page */
.container{
text-align:center;
padding:30px;
color:#fff;
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
display:none;
animation:fadeUp 2s ease;
}

h1{
font-family:'Great Vibes',cursive;
font-size:55px;
color:#ff4b7d;
}

h2{
margin-top:10px;
}

.intro{
margin:20px auto;
font-size:20px;
max-width:600px;
}

/* Slideshow */
.slideshow{
width:280px;
height:280px;
margin:30px auto;
border-radius:50%;
overflow:hidden;
border:6px solid white;
box-shadow:0 0 20px rgba(255,255,255,.8);
}

.slides{
width:100%;
height:100%;
object-fit:cover;
display:none;
}

/* Timeline */
.timeline{
margin:30px auto;
max-width:500px;
background:rgba(255,255,255,.15);
padding:20px;
border-radius:15px;
}

.event{
margin:10px 0;
}

/* Hearts Animation */
.hearts span{
position:fixed;
bottom:-50px;
font-size:24px;
animation:float 10s linear infinite;
}

@keyframes float{
0%{transform:translateY(0);opacity:1}
100%{transform:translateY(-110vh);opacity:0}
}

button{
margin-top:25px;
padding:12px 35px;
border:none;
border-radius:30px;
font-size:18px;
cursor:pointer;
background:linear-gradient(45deg,#ff512f,#dd2476);
color:white;
}

.hidden{
display:none;
}

/* Animations */
@keyframes glow{
from{text-shadow:0 0 10px pink;}
to{text-shadow:0 0 30px hotpink;}
}

@keyframes fadeIn{
from{opacity:0;}
to{opacity:1;}
}

@keyframes fadeUp{
from{opacity:0;transform:translateY(40px);}
to{opacity:1;transform:translateY(0);}
}



